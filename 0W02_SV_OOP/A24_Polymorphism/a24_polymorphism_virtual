Perfect âœ…
**A2.3 â€” Inheritance is CLEAR.**

We continue **strictly as per roadmap**, still **paused on Monitor & Scoreboard**.

---

# ğŸ”µ Phase A2.4 â€” Polymorphism & `virtual` Methods

âš ï¸ **MOST IMPORTANT OOP TOPIC (UVM CORE)**

If this clicks â†’ UVM will feel natural.

---

## ğŸ§  What is Polymorphism (in 1 line)

> **Same handle â†’ different behavior depending on object type**

This is how **drivers, monitors, scoreboards** work in UVM.

---

## ğŸš« What does NOT work (important)

```systemverilog
class packet;
    function void display();
        $display("BASE");
    endfunction
endclass

class error_packet extends packet;
    function void display();
        $display("CHILD");
    endfunction
endclass

packet p = new error_packet();
p.display();   // âŒ prints BASE
```

Why?
â¡ï¸ **No `virtual` keyword**

---

## âœ… Correct way (THIS is polymorphism)

### 1ï¸âƒ£ Base class (method MUST be virtual)

```systemverilog
class packet;
    rand bit [7:0] data;

    virtual function void display();
        $display("[BASE] data=%0h", data);
    endfunction
endclass
```

---

### 2ï¸âƒ£ Child class (override)

```systemverilog
class error_packet extends packet;
    rand bit parity;

    function void display();
        $display("[CHILD] data=%0h parity=%0b", data, parity);
    endfunction
endclass
```

---

## ğŸ§ª Hands-on (XSIM)

ğŸ“ **File: `a2_4_polymorphism.sv`**

```systemverilog
class packet;
    rand bit [7:0] data;

    virtual function void display();
        $display("[BASE] data=%0h", data);
    endfunction
endclass


class error_packet extends packet;
    rand bit parity;

    function void display();
        $display("[CHILD] data=%0h parity=%0b", data, parity);
    endfunction
endclass


module tb;
    packet p;

    initial begin
        // Parent handle â†’ Child object
        p = new error_packet();

        assert(p.randomize());
        p.display();   // âœ… CHILD method executes

        #10 $finish;
    end
endmodule
```

---

## â–¶ï¸ Run

```tcl
xvlog -sv a2_4_polymorphism.sv
xelab tb
xsim tb -R
```

---

## ğŸ” Expected Output

```
[CHILD] data=7c parity=1
```

â¡ï¸ **Even though handle is `packet`**

---

## ğŸ”¥ Why this matters for UVM

| UVM Component | Uses Polymorphism                      |
| ------------- | -------------------------------------- |
| Driver        | base handle â†’ protocol-specific driver |
| Sequence      | base seq â†’ derived seq                 |
| Monitor       | generic â†’ specialized                  |
| Scoreboard    | protocol-specific checking             |

UVM without polymorphism = **impossible**.

---

## â— Golden Rules (Memorize)

| Rule                              | True |
| --------------------------------- | ---- |
| Base method must be `virtual`     | âœ”ï¸   |
| Child overrides without `virtual` | âœ”ï¸   |
| Parent handle calls child method  | âœ”ï¸   |
| Without virtual â†’ base executes   | âœ”ï¸   |

---

## âœ… Exit Criteria

Reply only with:

> **â€œA2.4 polymorphism clearâ€**

Next:
â¡ï¸ **A2.5 â€” Shallow vs Deep Copy** (last OOP topic before mailbox).
